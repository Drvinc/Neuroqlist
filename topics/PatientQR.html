<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Cards</title>
    <style>
      body, html {
          margin: 0;
          padding: 0;
          width: 100%;
          height: 100%;
          overflow: hidden;
          display: flex;
          flex-direction: column;
      }

      .card-container {
          flex: 1; /* This will ensure that the container takes up the remaining space */
          display: flex;
          flex-direction: column;
          align-items: center;
          width: 100%;
          overflow-y: scroll;
          scroll-snap-type: y mandatory;
      }

      .card {
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          width: 100%;
          height: 100vh; /* This ensures the card takes up the full viewport height */
          scroll-snap-align: start;
          opacity: 0.5;
      }

      .card img {
          max-width: 80vw;
          max-height: 80vh;
          object-fit: contain;
      }

      .card-description {
          margin-top: 20px;
          text-align: center;
      }

      .card.active {
          opacity: 1;
      }

    </style>
</head>
<body>
    <div class="card-container">
        <div class="card" id="card1">
            <img src="../files/PatientQR/qr_code_PD.png" alt="帕金森症">
            <div class="card-description">帕金森症</div>
        </div>
        <div class="card" id="card2">
            <img src="../files/PatientQR/qr_code_stroke.png" alt="腦中風">
            <div class="card-description">腦中風</div>
        </div>
        <div class="card" id="card3">
            <img src="../files/PatientQR/qr_code_BellPalsy.png" alt="顏面神經麻痺">
            <div class="card-description">顏面神經麻痺</div>
        </div>
        <!-- Add more cards as needed -->
    </div>
    <script>
      const container = document.querySelector('.card-container');
      const cards = document.querySelectorAll('.card');

      function updateActiveCard() {
          // ... [rest of the function] ...
      }

      let debounceTimeout;
      function handleScroll(e) {
          clearTimeout(debounceTimeout);
          debounceTimeout = setTimeout(() => {
              let currentCardIndex = 0;
              cards.forEach((card, index) => {
                  const rect = card.getBoundingClientRect();
                  if (rect.top >= 0 && rect.bottom <= window.innerHeight) {
                      currentCardIndex = index;
                  }
              });
              if (e.deltaY > 0 && currentCardIndex < cards.length - 1) {
                  cards[currentCardIndex + 1].scrollIntoView({ behavior: 'smooth' });
              } else if (e.deltaY < 0 && currentCardIndex > 0) {
                  cards[currentCardIndex - 1].scrollIntoView({ behavior: 'smooth' });
              }
              e.preventDefault();
          }, 100); // Debounce time of 100ms
      }

      container.addEventListener('scroll', updateActiveCard);
      container.addEventListener('wheel', handleScroll, { passive: false });

      // Initial call to set the first card as active
      updateActiveCard();
  </script>
</body>
</html>
