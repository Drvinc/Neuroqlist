<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>D3 tests</title>
  <script src="https://d3js.org/d3.v4.min.js"></script>
</head>
<body>  
<script type="text/javascript">
    var barN = 8;
    var canvasWidth = window.innerWidth
    || document.documentElement.clientWidth
    || document.body.clientWidth;
    var barWidth = canvasWidth / (barN*2);
    
    var canvasHeight = window.innerHeight
    || document.documentElement.clientHeight
    || document.body.clientHeight;
    var barHeight = canvasHeight;
    
    var svg = d3.select("body").append("svg")
                               .attr("width", canvasWidth)
                               .attr("height", canvasHeight);
    
  function animation (){
    var bar = svg.append("rect")
          .attr("width", barWidth)
          .attr("height", barHeight);
      
    repeat();
    
    function repeat(){
      bar.attr("x", 0)
         .transition()
         .attr("x", 2*barWidth)
         .on("end",repeat);
    };
  }
  
  animation();
</script>
</body>
</html>